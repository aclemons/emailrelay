E-MailRelay Readme
==================

Abstract
--------
E-MailRelay is a simple SMTP proxy and store-and-forward message transfer agent 
(MTA). When running as a proxy all e-mail messages can be passed through a 
user-defined program, such as a spam filter, which can drop, re-address or edit 
messages as they pass through. When running as a store-and-forward MTA incoming 
messages are stored in a local spool directory, and then forwarded to the next 
SMTP server on request. 

Because of its functional simplicity E-MailRelay is easy to configure, typically
only requiring the address of the target SMTP server to be put on the command 
line.

C++ source code is available for Linux, FreeBSD, MacOS X etc, and Windows.
Distribution is under the GNU General Public License.

Quick start
-----------
To run the program as a proxy use the "--as-proxy" command-line switch followed
by the address of the target SMTP server. If you want to edit or filter e-mail 
as it passes through the proxy then specify your pre-processor program with the
"--filter" switch. You can optionally change the listening port number using 
"--port" and the spool directory using "--spool-dir".

For example, to start up a local proxy that passes messages to some "addsig" 
script and then forwards them to an MTA running on "smarthost", use a command 
like this:

	emailrelay --as-proxy smarthost:smtp --filter $HOME/bin/addsig --spool-dir $HOME/tmp

To use E-MailRelay as a store-and-forward MTA use the "--as-server" switch
to start the storage daemon in the background. And then trigger delivery of
spooled messages by running emailrelay with the "--as-client" switch followed 
by the address of the target SMTP server.

For example, to start a storage daemon listening on port 10025 use a command
like this:

	emailrelay --as-server --port 10025 --spool-dir $HOME/tmp

And then to forward the spooled mail to "smarthost" run somthing like this:

	emailrelay --as-client smarthost:smtp --spool-dir $HOME/tmp

You can also have an E-MailRelay storage daemon forward spooled e-mails 
periodically by using the "--poll" switch.

By default E-MailRelay will reject connections from remote machines. To
allow connections from anywhere use the "--remote-clients" switch.

For more information on the command-line options refer to the reference guide
or run:

	emailrelay --help --verbose

Documentation
-------------
The following documentation is provided:
* README             -- this document
* COPYING            -- the GNU General Public License
* INSTALL            -- build & install instructions (including the GNU text)
* AUTHORS            -- authors, credits and additional copyrights
* copyright          -- main copyright and GPL reference 
* userguide.txt      -- user guide
* reference.txt      -- reference document
* ChangeLog          -- change log for releases

Source code documentation will be generated when building from source if 
"doxygen" is available.

Configurations
--------------
Recent releases were developed on SuSE Linux 9.0 using:
* linux 2.6.11
* gcc 3.3.3
* autoconf 2.59

and on Windows NT4 SP6 using:
* MSVC 6.0 SP3

The code was originally developed on SuSE Linux 7.1 using:
* linux 2.4.10
* gcc 2.95.3
* glibc 2.2.4 (libc.so.6)
* autoconf 2.52

and to Windows 98 using:
* MSVC 6.0

Versions of the code have also been built successfully on:
* MacOS X 10.3.9
* FreeBSD on Intel hardware
* Linux on Alpha hardware (Debian 2.2)
* Linux on Sparc hardware
* Linux on RS6000 PPC hardware
* Solaris 8 using gcc on Sparc hardware
* Solaris 8 using WorkShop 5.0
* Linux using intel c++ 6.0
* Windows NT 4.0 using MSVC 6.0
* Windows NT 4.0 using Cygwin (DLL 1.3.22) and gcc 3.2
* Windows NT 4.0 using MinGW 2.0.0 and gcc 3.2


Feedback
--------
Please feel free to e-mail the author at 
"mailto:graeme_walker@users.sourceforge.net".

